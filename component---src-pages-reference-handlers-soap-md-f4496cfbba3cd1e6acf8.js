"use strict";(self.webpackChunkgraphql_mesh_gateway=self.webpackChunkgraphql_mesh_gateway||[]).push([[5521],{89773:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return m},default:function(){return x}});var i,t=a(87462),r=a(63366),o=(a(15007),a(64983)),l=a(91515),d=["components"],m={},s=(i="InlineAlert",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)}),p={_frontmatter:m},u=l.Z;function x(e){var n=e.components,a=(0,r.Z)(e,d);return(0,o.mdx)(u,(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"soap"},"SOAP"),(0,o.mdx)(s,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"The SOAP handler is experimental and should not be used in production deployments."),(0,o.mdx)("p",null,"The SOAP handler allows you to consume ",(0,o.mdx)("a",{parentName:"p",href:"https://soapui.org"},"SOAP")," ",(0,o.mdx)("inlineCode",{parentName:"p"},"WSDL")," files and generate a remote executable schema for those services."),(0,o.mdx)(s,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"If your source handler's schema is modified, you must ",(0,o.mdx)("a",{parentName:"p",href:"../../gateway/create-mesh.md#update-an-existing-mesh"},"update your mesh")," to allow API Mesh to cache any changes."),(0,o.mdx)("p",null,"Add SOAP handlers to your mesh:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "meshConfig": {\n    "sources": [\n      {\n        "name": "SoapSource",\n        "handler": {\n          "soap": {\n            "source": "http://<Commerce Host>/soap?wsdl&services=customerCustomerRepositoryV1",\n            "wsdl": "http://<Commerce Host>/soap?wsdl&services=customerCustomerRepositoryV1",\n            "operationHeaders": {\n              "x-operation-header-key": "sample-x-operation-header-value"\n            },\n            "schemaHeaders": {\n              "x-schema-header-key": "sample-x-schema-header-value"\n            }\n          }\n        }\n      }\n    ]\n  }\n}\n')),(0,o.mdx)("h2",{id:"soap-limitations"},"SOAP limitations"),(0,o.mdx)("p",null,"The experimental SOAP handler has the following limitations:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"A ",(0,o.mdx)("inlineCode",{parentName:"li"},"source")," field and a ",(0,o.mdx)("inlineCode",{parentName:"li"},"wsdl")," field (with identical values) are required",(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"This redundancy is a temporary limitation and will be addressed in a future release."))),(0,o.mdx)("li",{parentName:"ul"},"If you do not provide an expected argument, you will receive an ",(0,o.mdx)("inlineCode",{parentName:"li"},"undefined")," error.",(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"This error will be clarified in a future release."))),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"context.headers")," are not available inside ",(0,o.mdx)("inlineCode",{parentName:"li"},"operationHeaders")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"mutations")," must be used when querying")),(0,o.mdx)("h3",{id:"querying"},"Querying"),(0,o.mdx)("p",null,"When querying a SOAP source inside a mesh, use a ",(0,o.mdx)("inlineCode",{parentName:"p"},"mutation")," instead of a ",(0,o.mdx)("inlineCode",{parentName:"p"},"query"),", as illustrated in the following example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  catalogProductRepositoryV1Get(\n    sku: "product_dynamic_249"\n    editMode: true\n    storeId: 1\n    forceReload: true\n  ),\n\n  catalogCategoryListV1GetList(searchCriteria:"category")\n}\n')),(0,o.mdx)("h2",{id:"config-api-reference"},"Config API reference"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"source"),"(type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"String"),", required) - URL to your WSDL, must be identical to ",(0,o.mdx)("inlineCode",{parentName:"li"},"wsdl")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"wsdl")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"String"),", required) - URL to your WSDL, must be identical to the ",(0,o.mdx)("inlineCode",{parentName:"li"},"source")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"schemaHeaders")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"Any"),") - JSON object for adding headers to API calls for runtime schema introspection",(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"You can also provide a ",(0,o.mdx)("inlineCode",{parentName:"li"},".js")," or ",(0,o.mdx)("inlineCode",{parentName:"li"},".ts")," file path that exports ",(0,o.mdx)("inlineCode",{parentName:"li"},"schemaHeaders")," as an object."))),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"operationHeaders")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"JSON"),") - JSON object for adding headers to API calls for runtime operation execution")))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reference-handlers-soap-md-f4496cfbba3cd1e6acf8.js.map
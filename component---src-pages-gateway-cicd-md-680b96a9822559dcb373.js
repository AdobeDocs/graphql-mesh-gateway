"use strict";(self.webpackChunkgraphql_mesh_gateway=self.webpackChunkgraphql_mesh_gateway||[]).push([[7653],{32144:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return l},default:function(){return u}});var n=t(87462),o=t(45987),r=(t(35776),t(3905)),i=t(91515);const s=["components"],l={},m=(p="InlineAlert",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)});var p;const d={_frontmatter:l},c=i.Z;function u(e){let{components:a}=e,t=(0,o.Z)(e,s);return(0,r.mdx)(c,(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"cicd-for-api-mesh"},"CI/CD for API Mesh"),(0,r.mdx)("p",null,"API Mesh for Adobe Developer App Builder now provides CI/CD through ",(0,r.mdx)("a",{parentName:"p",href:"https://docs.github.com/en/actions"},"Github actions"),". CI/CD ensures rapid, reliable software delivery, which fosters agility and quality throughout the development lifecycle."),(0,r.mdx)(m,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"API Mesh and App Builder use the same tools and infrastructure to provide CI/CD. See ",(0,r.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/app-builder/docs/resources/ci-cd/"},"CI/CD in App Builder")," for more information."),(0,r.mdx)("h2",{id:"1-add-authentication-to-your-workspace"},"1. Add Authentication to your workspace"),(0,r.mdx)("p",null,"This step adds the I/O Management API to your workspace. Proceed to the next step if it is already installed."),(0,r.mdx)(m,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"./create-mesh.md"},"Create your mesh")," before beginning this process, the supplied GitHub action only handles mesh updates."),(0,r.mdx)("p",null,"To get an OAuth token to enable CI/CD:"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Navigate to the ",(0,r.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/console"},"Adobe Developer Console")," and select the workspace that contains your mesh."),(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"904px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"60.3125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/5530d/workspace-card.webp 320w","/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/0c8fb/workspace-card.webp 640w","/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/9b20f/workspace-card.webp 904w"],sizes:"(max-width: 904px) 100vw, 904px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/dd4a7/workspace-card.png 320w","/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/0f09e/workspace-card.png 640w","/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/91af2/workspace-card.png 904w"],sizes:"(max-width: 904px) 100vw, 904px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/graphql-mesh-gateway/static/d253eacf93152644b4950b09f95ca08c/91af2/workspace-card.png",alt:"Workspace Card",title:"Workspace Card",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    "))),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Click the ",(0,r.mdx)("strong",{parentName:"p"},"Add Service")," button and select API.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"From the list of APIs, select the ",(0,r.mdx)("strong",{parentName:"p"},"I/O Management API")," under the Adobe Services filter and click ",(0,r.mdx)("strong",{parentName:"p"},"Next"),"."),(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.6875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/5530d/io-management-api.webp 320w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/0c8fb/io-management-api.webp 640w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/94b1e/io-management-api.webp 1280w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/0b34d/io-management-api.webp 1920w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/d5269/io-management-api.webp 2560w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/a4051/io-management-api.webp 2696w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/dd4a7/io-management-api.png 320w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/0f09e/io-management-api.png 640w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/bbbf7/io-management-api.png 1280w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/ac7a9/io-management-api.png 1920w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/c7a69/io-management-api.png 2560w","/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/8680d/io-management-api.png 2696w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/graphql-mesh-gateway/static/419a1bf60f433e34aadd7de8b13ebb4b/bbbf7/io-management-api.png",alt:"IO management API",title:"IO management API",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    "))),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"With OAuth Server-to-Server selected, click ",(0,r.mdx)("strong",{parentName:"p"},"Save configured API"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Click ",(0,r.mdx)("strong",{parentName:"p"},"OAuth Server-to-Server")," inside the I/O Management API."))),(0,r.mdx)("h2",{id:"2-set-up-your-api-mesh-repository"},"2. Set up your API Mesh repository"),(0,r.mdx)("p",null,"A GitHub repository is necessary for hosting your mesh files. If you use another ",(0,r.mdx)("inlineCode",{parentName:"p"},"git")," development platform, see ",(0,r.mdx)("a",{parentName:"p",href:"#bring-your-own-cicd"},"using your own CI/CD"),"."),(0,r.mdx)("p",null,"After ",(0,r.mdx)("a",{parentName:"p",href:"./developer-tools.md#create-a-local-environment"},"creating a local environment")," by running the ",(0,r.mdx)("inlineCode",{parentName:"p"},"aio api-mesh:init")," command, upload your local files to ",(0,r.mdx)("a",{parentName:"p",href:"https://docs.github.com/en/repositories/creating-and-managing-repositories/quickstart-for-repositories"},"GitHub"),"."),(0,r.mdx)(m,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"When running the ",(0,r.mdx)("inlineCode",{parentName:"p"},"aio api-mesh:init")," command, ensure that you enable ",(0,r.mdx)("inlineCode",{parentName:"p"},"git")," by following the command prompts."),(0,r.mdx)("p",null,"Once your repository is accessible, clone your repo locally using the following command:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/<org>/<project_name>.git\n")),(0,r.mdx)("p",null,"You will continue to use this repo to make changes to your mesh."),(0,r.mdx)("h2",{id:"3-configure-your-secrets-and-variables"},"3. Configure your secrets and variables"),(0,r.mdx)("p",null,"When developing locally, you can store your variables and secrets in your ",(0,r.mdx)("a",{parentName:"p",href:"./developer-tools.md#environment-variables"},"environment variables file"),". When using GitHub, you will need to use ",(0,r.mdx)("a",{parentName:"p",href:"https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions"},"secrets")," and ",(0,r.mdx)("a",{parentName:"p",href:"https://docs.github.com/en/actions/learn-github-actions/variables"},"variables"),"."),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Variables are for information that is not sensitive, for example, a variable could determine if you are targeting ",(0,r.mdx)("inlineCode",{parentName:"p"},"stage")," or ",(0,r.mdx)("inlineCode",{parentName:"p"},"prod"),". Additionally, you can configure variables to carry different values based on the environment you are using.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Secrets are for sensitive information, such as access tokens. These are never exposed in the Github code repo."))),(0,r.mdx)("h3",{id:"add-a-secret-or-variable"},"Add a secret or variable"),(0,r.mdx)(m,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"To add secrets or variables, you must have administrative permissions in the target GitHub repository."),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Navigate to ",(0,r.mdx)("inlineCode",{parentName:"p"},"https://github.com/<org>/<project_name>/settings/secrets/actions"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"On the ",(0,r.mdx)("strong",{parentName:"p"},"Secrets")," or ",(0,r.mdx)("strong",{parentName:"p"},"Variables")," tab, click either ",(0,r.mdx)("strong",{parentName:"p"},"New repository secret")," or ",(0,r.mdx)("strong",{parentName:"p"},"New repository variable"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Enter a name for the secret or variable, such as ",(0,r.mdx)("inlineCode",{parentName:"p"},"CLIENTID_PROD"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Enter the corresponding value for the secret or variable, for example, ",(0,r.mdx)("inlineCode",{parentName:"p"},"123456123456"),"."))),(0,r.mdx)("p",null,"The next section, ",(0,r.mdx)("a",{parentName:"p",href:"#4-create-a-github-action"},"Create an action"),", describes a ",(0,r.mdx)("inlineCode",{parentName:"p"},"yml")," file that requires the following secrets/variables:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-yml"},"CLIENTID: ${{ secrets.CLIENTID_PROD }}\nCLIENTSECRET: ${{ secrets.CLIENTSECRET_PROD }}\nTECHNICALACCOUNTID: ${{ secrets.TECHNICALACCID_PROD }}\nTECHNICALACCOUNTEMAIL: ${{ secrets.TECHNICALACCEMAIL_PROD }}\nIMSORGID: ${{ secrets.IMSORGID_PROD }}\nORGID: ${{ secrets.ORGID_PROD }}\nPROJECTID: ${{ secrets.PROJECTID_PROD }}\nWORKSPACEID: ${{ secrets.WORKSPACEID_PROD }}\n")),(0,r.mdx)("p",null,"For example, if you named a secret ",(0,r.mdx)("inlineCode",{parentName:"p"},"CLIENTID_PROD"),", you can call that secret using the ",(0,r.mdx)("inlineCode",{parentName:"p"},"${{ secrets.CLIENTID_PROD }}")," format."),(0,r.mdx)("p",null,"The specific secrets required for this workflow are available in the ",(0,r.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/console"},"Developer Console")," by navigating to the desired workspace within a project and clicking the ",(0,r.mdx)("strong",{parentName:"p"},"Download all")," button in the top-right of the screen. This downloads a ",(0,r.mdx)("inlineCode",{parentName:"p"},"JSON")," file."),(0,r.mdx)("p",null,"The following table lists the variable name and its corresponding location in the downloaded ",(0,r.mdx)("inlineCode",{parentName:"p"},"JSON")," file:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Variable name in Github"),(0,r.mdx)("th",{parentName:"tr",align:null},"Name defined in downloaded JSON"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"CLIENTID"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"client_id"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"CLIENTSECRET"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"client_secret"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"TECHNICALACCOUNTID"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"technical_account_email"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"TECHNICALACCOUNTEMAIL"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"technical_account_id"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"IMSORGID"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"ims_org_id"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"ORGID"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"project")," > ",(0,r.mdx)("inlineCode",{parentName:"td"},"org")," > ",(0,r.mdx)("inlineCode",{parentName:"td"},"id"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"PROJECTID"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"project")," > ",(0,r.mdx)("inlineCode",{parentName:"td"},"id"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"WORKSPACEID"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"project")," > ",(0,r.mdx)("inlineCode",{parentName:"td"},"workspace")," > ",(0,r.mdx)("inlineCode",{parentName:"td"},"id"))))),(0,r.mdx)("p",null,"Create a GitHub secret for each of these items."),(0,r.mdx)("p",null,"You also need to specify the ",(0,r.mdx)("inlineCode",{parentName:"p"},"id")," for the organization, project, and workspace in the following section of GitHub workflow. These values are also available in the file downloaded from the Developer Console:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-yml"},"- name: Select org\n  run: aio console:org:select ${{ secrets.ORGID_PROD }}\n- name: Select project\n  run: aio console:project:select ${{ secrets.PROJECTID_PROD }}\n- name: Select workspace\n  run: aio console:workspace:select ${{ secrets.WORKSPACEID_PROD }}\n")),(0,r.mdx)("p",null,"Repeat this process in your local environment, by adding these values as ",(0,r.mdx)("a",{parentName:"p",href:"./developer-tools.md#environment-variables"},"environment variables"),"."),(0,r.mdx)("p",null,"This CI/CD process corresponds to a single workspace. If you want to create another workflow, for example, to differentiate between ",(0,r.mdx)("inlineCode",{parentName:"p"},"stage")," and ",(0,r.mdx)("inlineCode",{parentName:"p"},"prod"),", you need to:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Duplicate the workflow you created"),(0,r.mdx)("li",{parentName:"ul"},"Replace the workspace ",(0,r.mdx)("inlineCode",{parentName:"li"},"id"))),(0,r.mdx)("h2",{id:"4-create-a-github-action"},"4. Create a GitHub action"),(0,r.mdx)("p",null,"The GitHub action described in this section updates the specified mesh when a PR is merged to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"main")," branch of your repository. This step uses the variables and secrets you configured in the previous section."),(0,r.mdx)("p",null,"This workflow relies on two existing Adobe I/O GitHub Actions published on the GitHub Marketplace:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli-setup-action"},(0,r.mdx)("inlineCode",{parentName:"a"},"adobe/aio-cli-setup-action"))," installs and configures the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli"},"CLI")," on the GitHub infrastructure. For API Mesh, this action handles authentication.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-apps-action"},(0,r.mdx)("inlineCode",{parentName:"a"},"adobe/aio-apps-action"))," centralizes support for a GitHub workflow to leverage application-specific commands, such as deploying via ",(0,r.mdx)("inlineCode",{parentName:"p"},"aio api-mesh:update"),"."))),(0,r.mdx)("p",null,"In the ",(0,r.mdx)("inlineCode",{parentName:"p"},".github/workflows")," folder, create a ",(0,r.mdx)("inlineCode",{parentName:"p"},".yml")," file with the following contents:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-yml"},'name: CI\n\n# Controls when the workflow will run\non:\n  # Triggers the workflow on push or pull request events but only for the "main" branch\n  # push:\n  #   branches: [ "main" ]\n  # pull_request:\n  #   branches: [ "main" ]\n\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n\n# A workflow run is made up of one or more jobs that can run sequentially or in parallel\njobs:\n  # This workflow contains a single job called "build"\n   deploy:\n    name: Deploy to Prod\n    runs-on: ${{ matrix.os }}\n    strategy:\n      max-parallel: 1\n      matrix:\n        node-version: [\'20\']\n        os: [ubuntu-latest]\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ matrix.node-version }}\n      - name: Setup CLI\n        uses: adobe/aio-cli-setup-action@1.3.0\n        with:\n          os: ${{ matrix.os }}\n          version: 10.x.x\n      - name: api-mesh-plugin install\n        run: aio plugins:install @adobe/aio-cli-plugin-api-mesh\n      - name: Auth\n        uses: adobe/aio-apps-action@3.3.0\n        with:\n          os: ${{ matrix.os }}\n          command: oauth_sts\n          CLIENTID: ${{ secrets.CLIENTID_PROD }}\n          CLIENTSECRET: ${{ secrets.CLIENTSECRET_PROD }}\n          TECHNICALACCOUNTID: ${{ secrets.TECHNICALACCID_PROD }}\n          TECHNICALACCOUNTEMAIL: ${{ secrets.TECHNICALACCEMAIL_PROD }}\n          IMSORGID: ${{ secrets.IMSORGID_PROD }}\n          SCOPES: AdobeID, openid, read_organizations, additional_info.projectedProductContext, additional_info.roles, adobeio_api, read_client_secret, manage_client_secrets\n      - name: Select org\n        run: aio console:org:select ${{ secrets.ORGID_PROD }}\n      - name: Select project\n        run: aio console:project:select ${{ secrets.PROJECTID_PROD }}\n      - name: Select workspace\n        run: aio console:workspace:select ${{ secrets.WORKSPACEID_PROD }}\n      - name: api-mesh update\n        run: aio api-mesh:update -c meshConfig.json --env .env \n')),(0,r.mdx)("p",null,"This script sets up the CLI, installs the API Mesh plugin (",(0,r.mdx)("inlineCode",{parentName:"p"},"aio-cli-plugin-api-mesh"),"), and adds your OAuth token. Once the workflow is configured, running its corresponding job on the GitHub ",(0,r.mdx)("strong",{parentName:"p"},"Actions")," tab will update your mesh."),(0,r.mdx)("p",null,"Uncomment the following section to automatically trigger this workflow when a PR is merged ",(0,r.mdx)("inlineCode",{parentName:"p"},"main"),":"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-yml"},'push:\n  branches: [ "main" ]\n')),(0,r.mdx)("p",null,"Uncomment the following section to automatically trigger this workflow when a PR to ",(0,r.mdx)("inlineCode",{parentName:"p"},"main")," is updated:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-yml"},'pull_request:\n  branches: [ "main" ]\n')),(0,r.mdx)("p",null,"For more information see ",(0,r.mdx)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows"},"Events that trigger workflows"),"."),(0,r.mdx)("h2",{id:"bring-your-own-cicd"},"Bring your own CI/CD"),(0,r.mdx)("p",null,"Although GitHub is the recommended CI/CD platform, you can use other CI/CD platforms. Refer to the alternative CI/CD platform's documentation for secrets management and workflow creation, because the syntax of the workflow and variables will be different for each platform."),(0,r.mdx)("p",null,"When using your own CI/CD platform, there are two important considerations:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli"},"Adobe I/O CLI")," is the official tool for managing the App Builder Application development lifecycle from bootstrapping to deployment. Use the CLI within a CI/CD workflow for automation purposes.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Security is a key requirement. Any alternative CI/CD workflows should provide a secret management solution to store the credentials required to deploy an App Builder Application against a specific Workspace. You can set these tokens in an ",(0,r.mdx)("inlineCode",{parentName:"p"},".aio")," file or by using system or environment variables."))),(0,r.mdx)("p",null,"The ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-apps-action"},(0,r.mdx)("inlineCode",{parentName:"a"},"aio-apps-action"))," can be used as a reference for constructing your own pipeline. This CI/CD Github action for automated deploys generates a token for the CLI to avoid login. The Adobe Developer Console documentation provides more information on ",(0,r.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/docs/guides/authentication/ServerToServerAuthentication/implementation/#generating-access-tokens-programmatically"},"generating access tokens programmatically"),"."),(0,r.mdx)("p",null,"This ",(0,r.mdx)("a",{parentName:"p",href:"https://www.youtube.com/live/lbB2jl2rQZM?feature=share&t=1815"},"App Builder Live demo")," provides a walkthrough of how you might create your own CI/CD pipeline."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-gateway-cicd-md-680b96a9822559dcb373.js.map
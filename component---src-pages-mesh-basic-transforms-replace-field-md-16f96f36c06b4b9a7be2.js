"use strict";(self.webpackChunkgraphql_mesh_gateway=self.webpackChunkgraphql_mesh_gateway||[]).push([[4471],{78129:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return i},default:function(){return u}});var o=a(58168),t=a(80045),r=(a(88763),a(15680)),d=a(83407);const l=["components"],i={},s=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",n)},m=s("InlineAlert"),p=s("CodeBlock"),c={_frontmatter:i},h=d.A;function u(e){let{components:n}=e,a=(0,t.A)(e,l);return(0,r.mdx)(h,(0,o.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"replacefield-transform"},(0,r.mdx)("inlineCode",{parentName:"h1"},"replaceField")," transform"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"replaceField")," transform is deprecated. If you attempt to create an edge mesh with the ",(0,r.mdx)("inlineCode",{parentName:"p"},"replaceField")," transform, your edge mesh will not progress past the provisioning status. Alternatively, you can use the following ",(0,r.mdx)("inlineCode",{parentName:"p"},"additonalResolvers")," method."),(0,r.mdx)("h2",{id:"replacing-fields-with-additionalresolvers"},"Replacing fields with ",(0,r.mdx)("inlineCode",{parentName:"h2"},"additionalResolvers")),(0,r.mdx)("p",null,"Previously, the ",(0,r.mdx)("inlineCode",{parentName:"p"},"replaceField")," transform allowed you to replace the configuration properties of one field with another, hoisting field values from a subfield to its parent. This transform allowed you to clean up redundant queries or replace field types."),(0,r.mdx)("p",null,"Since the ",(0,r.mdx)("inlineCode",{parentName:"p"},"replaceField")," transform is deprecated, you can achieve the same functionality by using ",(0,r.mdx)("a",{parentName:"p",href:"../../advanced/extend/resolvers/index.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"additionalResolvers"))," in your mesh configuration. The ",(0,r.mdx)("inlineCode",{parentName:"p"},"additionalResolvers")," property allows you to add custom resolvers to your mesh. These resolvers can replace fields, hoist values, or perform other custom logic."),(0,r.mdx)(m,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"Custom resolvers can hoist and replace existing fields as long as the field types are the same. If the field types are different, you can ",(0,r.mdx)("a",{parentName:"p",href:"../../advanced/extend/index.md"},"extend")," the type to include a new field and hide the original field using a ",(0,r.mdx)("a",{parentName:"p",href:"./filter-schema.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"filterSchema")," transform"),"."),(0,r.mdx)("p",null,"The following example hoists the Adobe Commerce ",(0,r.mdx)("inlineCode",{parentName:"p"},"name")," field from the ",(0,r.mdx)("inlineCode",{parentName:"p"},"ProductInterface")," to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"label")," field of ",(0,r.mdx)("inlineCode",{parentName:"p"},"ProductImage")," by adding the ",(0,r.mdx)("inlineCode",{parentName:"p"},"replace.js")," resolver to the mesh configuration."),(0,r.mdx)(p,{slots:"heading, code",repeat:"2",languages:"json, javascript",mdxType:"CodeBlock"}),(0,r.mdx)("h4",{id:"meshjson"},(0,r.mdx)("inlineCode",{parentName:"h4"},"mesh.json")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "meshConfig": {\n    "sources": [\n      {\n        "name": "AdobeCommerce",\n        "handler": {\n          "graphql": {\n            "endpoint": "https://venia.magento.com/graphql"\n          }\n        },\n      }\n    ]\n    "additionalResolvers": ["./replace.js"]\n  }\n}\n')),(0,r.mdx)("h4",{id:"replacejs"},(0,r.mdx)("inlineCode",{parentName:"h4"},"replace.js")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n    resolvers: {\n        SimpleProduct: {\n            name: {\n                selectionSet: '{ name image { label } }',\n                resolve: (root) => {\n                    return root.image.label;\n                }\n            }\n        }\n    }\n} \n")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-mesh-basic-transforms-replace-field-md-16f96f36c06b4b9a7be2.js.map
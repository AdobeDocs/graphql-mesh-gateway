"use strict";(self.webpackChunkgraphql_mesh_gateway=self.webpackChunkgraphql_mesh_gateway||[]).push([[4186],{13024:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return l},default:function(){return s}});var r=a(87462),o=a(63366),t=(a(15007),a(64983)),i=a(91515),d=["components"],l={},m={_frontmatter:l},p=i.Z;function s(e){var n=e.components,a=(0,o.Z)(e,d);return(0,t.mdx)(p,(0,r.Z)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,t.mdx)("h1",{id:"graphql-handlers"},"GraphQL handlers"),(0,t.mdx)("p",null,"This handler allows you to load remote GraphQL schemas and use them with schema-stitching, based on ",(0,t.mdx)("inlineCode",{parentName:"p"},"graphql-tools"),". To get started, use the handler in your Mesh config file:"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyGraphQLApi",\n      "handler": {\n        "graphql": {\n          "endpoint": "https://my-service-url/graphql"\n        }\n      }\n    }\n  ]\n}\n')),(0,t.mdx)("p",null,"GraphQL handlers can also use local sources, see ",(0,t.mdx)("a",{parentName:"p",href:"../handlers/index.md#reference-local-files-in-handlers"},"Reference local file handlers")," for more information."),(0,t.mdx)("h2",{id:"headers-from-context"},"Headers from context"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyGraphQLApi",\n      "handler": {\n        "graphql": {\n          "endpoint": "https://my-service-url/graphql",\n          "operationHeaders": {\n            "Authorization": "Bearer {context.headers[\'x-my-api-token\']}"\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,t.mdx)("h2",{id:"fetching-sdl-or-introspection-from-cdn-or-somewhere"},"Fetching SDL or introspection from CDN or somewhere"),(0,t.mdx)("p",null,"Imagine that introspection is disabled in the production environment of your GraphQL source, and you want to provide your SDL or introspection separately:"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "sources": [\n        {\n            "name": "MyGraphQLApi",\n            "handler": {\n                "graphql": {\n                    "endpoint": "https://api.github.com/graphql",\n                    "operationHeaders": {\n                        "Authorization": "Bearer {context.headers[\'GITHUB_TOKEN\']}"\n                    }\n                }\n            }\n        }\n    ]\n}\n')),(0,t.mdx)("p",null,"In this case, CLI's ",(0,t.mdx)("inlineCode",{parentName:"p"},"build")," command won't save the introspection in the artifacts, so your Mesh won't start if the ",(0,t.mdx)("inlineCode",{parentName:"p"},"source")," URL is down."),(0,t.mdx)("h2",{id:"local-schemas"},"Local Schemas"),(0,t.mdx)("p",null,"We recommend providing local schema by using the ",(0,t.mdx)("a",{parentName:"p",href:"../../gateway/extending-unified-schema.md"},(0,t.mdx)("inlineCode",{parentName:"a"},"additionalTypeDefs"))," and ",(0,t.mdx)("a",{parentName:"p",href:"../multiple-apis.md#extending-graphql-schema-with-additionaltypedefs"},(0,t.mdx)("inlineCode",{parentName:"a"},"additionalResolvers"))," configuration options."),(0,t.mdx)("h2",{id:"config-api-reference"},"Config API Reference"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"endpoint")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String"),", required) - A URL or file path to your remote GraphQL endpoint.\nIf you provide a path to a code file(js or ts),\nother options will be ignored and the schema exported from the file will be used directly."),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"schemaHeaders")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Any"),") - JSON object representing the Headers to add to the runtime of the API calls only for schema introspection"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"operationHeaders")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"JSON"),") - JSON object representing the Headers to add to the runtime of the API calls only for operation during runtime"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"useGETForQueries")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Boolean"),") - Use HTTP GET for Query operations"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"method")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String (GET | POST)"),") - HTTP method used for GraphQL operations")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reference-handlers-graphql-md-33e537252707a0b7b3e5.js.map
"use strict";(self.webpackChunkgraphql_mesh_gateway=self.webpackChunkgraphql_mesh_gateway||[]).push([[3041],{63624:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return r},default:function(){return u}});var t=a(87462),m=a(63366),i=(a(15007),a(64983)),l=a(91515),o=["components"],r={},p={_frontmatter:r},d=l.Z;function u(e){var n=e.components,a=(0,m.Z)(e,o);return(0,i.mdx)(d,(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"encapsulate-transform"},(0,i.mdx)("inlineCode",{parentName:"h1"},"encapsulate")," transform"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"encapsulate")," transform allows you to easily encapsulate a specific schema into a single field under the root type."),(0,i.mdx)("p",null,"For instance, if your handler created a schema like this, named ",(0,i.mdx)("inlineCode",{parentName:"p"},"mySchema"),":"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-graphql"},"type Query {\n  something: String\n}\n\ntype Mutation {\n  doSomething: String\n}\n")),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"encapsulate")," transform will change your schema to this:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-graphql"},"type Query {\n  mySchema: mySchemaQuery!\n}\n\ntype Mutation {\n  mySchema: mySchemaMutation!\n}\n\ntype mySchemaQuery {\n  something: String\n}\n\ntype mySchemaMutation {\n  doSomething: String\n}\n")),(0,i.mdx)("p",null,"This transformer is useful when you have multiple APIs in your Mesh Gateway and you wish to have it wrapped with a name to better understand where each field is coming from."),(0,i.mdx)("h2",{id:"usage"},"Usage"),(0,i.mdx)("p",null,"The following example encapsulates the Adobe Commerce schema into the ",(0,i.mdx)("inlineCode",{parentName:"p"},"AdobeCommerce")," field:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "meshConfig": {\n    "sources": [\n      {\n        "name": "AdobeCommerce",\n        "handler": {\n          "graphql": {\n            "endpoint": "https://venia.magento.com/graphql"\n          }\n        },\n        "transforms": [\n          {\n            "encapsulate": {\n              "applyTo": {\n                "query": true,\n                "mutation": false,\n                "subscription": false\n              }\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n')),(0,i.mdx)("h2",{id:"config-api-reference"},"Config API Reference"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"name")," (type: ",(0,i.mdx)("inlineCode",{parentName:"li"},"String"),") - (Optional) The name used for grouping under root types",(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},"If you do not specify a ",(0,i.mdx)("inlineCode",{parentName:"li"},"name"),", the API name will be used."))),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"applyTo")," (type: ",(0,i.mdx)("inlineCode",{parentName:"li"},"Object"),") - The root operations the ",(0,i.mdx)("inlineCode",{parentName:"li"},"encapsulate")," applies to. Unspecified options default to ",(0,i.mdx)("inlineCode",{parentName:"li"},"true"),":",(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"query")," (type: ",(0,i.mdx)("inlineCode",{parentName:"li"},"Boolean"),")"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"mutation")," (type: ",(0,i.mdx)("inlineCode",{parentName:"li"},"Boolean"),")"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"subscription")," (type: ",(0,i.mdx)("inlineCode",{parentName:"li"},"Boolean"),")")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reference-transforms-encapsulate-md-69a9af99d7acc2dc6671.js.map